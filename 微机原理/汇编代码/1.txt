CODE SEGMENT
ASSUME CS:CODE
START:
MOV DX,283H
MOV AL,10000001B
OUT DX,AL
NEXT_IN:
MOV DX,288H
OUT DX,AL
MOV CX,0FFFH
REST:LOOP REST
REST1:
MOV DX,282H
IN AL,DX
TEST AL,1
JZ REST1

MOV DX,288H
IN AL,DX
MOV DX,281H
OUT DX,AL
JMP NEXT_IN
CODE ENDS
    END START







CODE    SEGMENT
    ASSUME CS:CODE
START:
CSH_8255:
    MOV DX,28BH
    MOV AL,10001000B;A口输出，C高位D7输入EOC
    OUT DX,AL
CONV:
    MOV DX,280H;启动转换
    MOV AL,00H
    OUT DX,AL
    MOV DX,28AH;检查EOC
NO_EOC:
    IN AL,DX
    TEST AL,80H
    JZ NO_EOC
    MOV DX,280H
    IN AL,DX
    MOV DX,288H
    OUT DX,AL
    JMP START
CODE ENDS
END START